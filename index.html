<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>Myrepo app</title>
</head>
<body> 
<div class="page-wrap">
<header>
</header>
<nav>
  <ul>
    <li>Home</li>
    <li>Project</li>
    <li>Contact</li>
    <li>Signin</li>
    <li>Signup</li>
  </ul>
  </nav>
  <main>
  
  </main>
  <footer>
  
  </footer>
  </div>
  <script type="text/javascript">
  
  function requireRole (role) {
    return function (req, res, next) {
        if (req.session.user && req.session.user.role === role) {
            next();
        } else {
            res.send(403);
        }
    }
}

app.get("/foo", foo.index);
app.get("/foo/:id", requireRole("user"), foo.show);
app.post("/foo", requireRole("admin"), foo.create);

// All bars are protected
app.all("/foo/bar", requireRole("admin"));

// All paths starting with "/foo/bar/" are protected
app.all("/foo/bar/*", requireRole("user"));

  </script>
</body>
</html>
